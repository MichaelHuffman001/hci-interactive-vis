<html>
    <head>
        <title>HCI</title>
        <link rel="stylesheet" href="styles.css">
        <style>
        body,html{
        background-color: orange;
        color: white;
	    padding: 0;
	    margin: 0;
        }
        #w{
	    color: white;
	    font-family: monospace;
	    font-size: 1.25rem;
	    position: relative;
	    top: 50%;
	    left: 50%;
	    transform: translate(-50%,-50%);
	    text-align: center;
        }
        .c{
	    position: absolute;
        }
        .d{
	    position: absolute;
	    text-align: center;
	    display: flex;
	    align-items: center;
	    justify-content: center;
        }
        </style>
        <script>
            document.addEventListener('DOMContentLoaded', () =>{
                
                
                console.log("Hello!");
                console.log(window.screen.availHeight);
                console.log(window.screen.availWidth);

                const arr = ["AR","WA","FL","CA","VA","AZ","GA","NY","NJ","LA","TX","IN","NM","UT","Ky","MS","OH","CT","WV","PA","NV","WI","IL","NC","MI","TN","CO","OR","MA","MO","MN","SC","NH","AK","MT","OK","AL","KS","MD","ME","IA","RI","ID","HI","NE","WY","VT","ND","DE","SD","DC"];
                console.log(arr);
                const arr1 = [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];
                const arr2 = [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];
                //const arr1[40];
                //const arr2[40];
                /*for(let i=0;i<40;i++)
                {
                    arr1[i] = -1;
                    arr2[i] = -1;
                }*/
                let x1 = -1;
                let x2=0;
                let count1=0,cont2=1,count3=0;
                for(let i=0;i<10;i++)
                {
                    while(true)
                    {
                        x1 = Math.floor(Math.random() * 51);
                        if(!arr1.includes(x1))
                        break;
                    }
                    arr1[i] = x1;
                }
                console.log(arr1);
                for(let i =0;i<10;i++)
                console.log(arr[arr1[i]]);
                //arr1.sort();
                arr1.sort((a, b) => {
                if (a < b) {
                return -1;
                }
                if (a > b) {
                return 1;
                }
                return 0;
                });
                console.log(arr1);
                for(let i =0;i<10;i++)
                console.log(arr[arr1[i]]);



                function justforfun () {
                document.getElementById('w').innerHTML = "The Visualization Part...";
                }

                function pop () {
                /*
                var x = Math.floor(Math.random() * window.screen.availHeight * .75);
                var y = Math.floor(Math.random() * window.screen.availHeight * .75);
                for (let i = 0; i < 5; i++) {
                createParticle(x, y);
                }*/

                particles = document.getElementsByClassName('d');


                for(let i=0;i<10;i++)
                {
                if(arr2.includes(i))
                continue;
                var x = Math.floor(Math.random() * window.screen.availHeight * .75);
                var y = Math.floor(Math.random() * window.screen.availHeight * .75);
                const destinationX = x + (Math.random() - 0.5) * 2 * 750;
                const destinationY = y + (Math.random() - 0.5) * 2 * 750;
                const animation = particles[i].animate([
                {
                    transform: `translate(-50%, -50%) translate(${x}px, ${y}px)`,
                    opacity: 1
                },
                {
                    transform: `translate(${destinationX}px, ${destinationY}px)`,
                    opacity: 0.25
                    }
                ], {
                    duration: Math.random() * 1000 + 2500,
                    easing: 'cubic-bezier(0, .9, .57, 1)',
                    delay: Math.random() * 200
                });
                
                }


                }

            for (let i=0;i<10;i++)
            {
                var x = Math.floor(Math.random() * window.screen.availHeight * .75);
                var y = Math.floor(Math.random() * window.screen.availHeight * .75);
                createParticle(x, y);
            }

            function createParticle (x, y) {

            
            const particle = document.createElement('div');
            document.getElementById('a').appendChild(particle);
            particle.innerHTML=`${arr[arr1[x2]]}`;
            x2 = x2+1;
            console.log(x2);
            particle.classList.add('d');
            particle.style.opacity = "0";
            const size = Math.floor(Math.random() * 30 + 30);
            particle.style.width = `${size}px`;
            particle.style.height = `${size}px`;
            particle.style.borderRadius = `${Math.floor(Math.random() * 90)}%`;
            particle.style.background = `hsl(${Math.random() * 90 + 180}, 70%, 60%)`;
            const destinationX = x + (Math.random() - 0.5) * 2 * 750;
            const destinationY = y + (Math.random() - 0.5) * 2 * 750;
            const animation = particle.animate([
            {
            transform: `translate(-50%, -50%) translate(${x}px, ${y}px)`,
            opacity: 1
            },
            {
            transform: `translate(${destinationX}px, ${destinationY}px)`,
            opacity: 0.25
            }
            ], {
            duration: Math.random() * 1000 + 2500,
            easing: 'cubic-bezier(0, .9, .57, 1)',
            delay: Math.random() * 200
            });
            animation.onfinish = () => {
            //particle.remove();
            };

            particle.addEventListener('mouseover', () =>{
                //console.log("Hey! you clicked it!");
                //document.getElementById('w').innerHTML = "Hey! you hovered over it! Yor Visualization is now loading...";
                //setTimeout(justforfun,4000);
                //clearInterval(intervalId);
            })
            }

            const intervalId = window.setInterval(function(){
            pop();
            }, 2000);



            let checkfinish = 0;
            particle = document.getElementsByClassName('d');
                console.log(particle);
                for(let i=0;i<10;i++)
                {
                    particle[i].addEventListener("click", () => {
                        if(arr2[i] == -1)
                        checkfinish += 1;
                        console.log(`array2 ${arr2[i]} checkfinish ${checkfinish} Hey! Clicked!!! ${particle[i].innerHTML}`);
                        console.log(checkfinish)
                        arr2[i]=i;
                        if(i==count1)
                        {
                            count1 += 1;
                            count3 += 1;
                            console.log('You got the order right, keep going!');
                        }
                        else
                        {
                            count2 = 0;
                            console.log('OOPS, Got it wrong!');
                        }
                        console.log(arr2);
                        if(checkfinish == 10)
                        {
                        console.log(count3);
                        console.log('finished clicking them all!');
                        document.getElementById('w').innerHTML = `You got ${count3} responses right!`;
                        }
                    });
                }

            });
        </script>
    </head>
    <body>
        <div id="a" style="height: 100vh; width: 100vw">
            <div id="w">Click states which had more ufo iteraction in terms of minutes reported from high to low, see how you did in the end!</div>
        </div>
    </body>
</html>